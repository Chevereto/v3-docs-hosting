(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{377:function(t,a,s){"use strict";s.r(a);var e=s(46),r=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"bulk-content-importer"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#bulk-content-importer"}},[t._v("#")]),t._v(" Bulk content importer")]),t._v(" "),s("p",[t._v("This tool allows to "),s("strong",[t._v("mass import")]),t._v(" images, albums, and users by parsing the contents of a filesystem location. It is intended to be used when you want to import a massive amount of content that otherwise will be troublesome to import by using the API or the web gui.")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("Importing != Syncing")]),t._v(" "),s("p",[t._v("Importing takes the content from the importing path and "),s("em",[t._v("import it")]),t._v(" into database, filesystem or external storage, "),s("strong",[t._v("removing the file from the importing path")]),t._v(".")])]),t._v(" "),s("h2",{attrs:{id:"how-to-use-it"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#how-to-use-it"}},[t._v("#")]),t._v(" How to use it")]),t._v(" "),s("p",[t._v("Go to "),s("code",[t._v("dashboard/bulk")]),t._v(", from there you will be able to add and manage importing jobs.")]),t._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("Permissions")]),t._v(" "),s("p",[t._v("The target importing path must be writable by the PHP user, make sure that "),s("code",[t._v("www-data")]),t._v(" (or the specific user in your case) owns the target importing folder.")])]),t._v(" "),s("h2",{attrs:{id:"parsing-formats"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#parsing-formats"}},[t._v("#")]),t._v(" Parsing formats")]),t._v(" "),s("p",[t._v("The bulk importer scans the target importing directory and creates content accordingly parsing rules described below. User assets (avatar, background image) will get uploaded to the system user folder.")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("The parser creates users and albums only if those doesn't exists. It detects if "),s("code",[t._v("username")]),t._v(" exists, and it does the same for albums (based on the album name + its owner).")])]),t._v(" "),s("h3",{attrs:{id:"top-level-folder-as-username"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#top-level-folder-as-username"}},[t._v("#")]),t._v(" Top-level folder as username")]),t._v(" "),s("p",[t._v("Top-level folders within the importing path will be handled as "),s("code",[t._v("username")]),t._v(". Second-level folders will be parsed as "),s("code",[t._v("album name")]),t._v(".")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("./"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("path"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n└── rodolfo "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("- username\n    ├── weapons "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("- album name\n    │   ├── machine-gun.jpg\n    │   └── rocket-launcher.jpg\n    └── logo-alt.png\n")])])]),s("p",[t._v("For the tree above, the parser will:")]),t._v(" "),s("ul",[s("li",[t._v("Create "),s("code",[t._v("rodolfo")]),t._v(" user (if the user doesn't exists)")]),t._v(" "),s("li",[t._v("Create album "),s("code",[t._v("weapons")]),t._v(" under "),s("code",[t._v("rodolfo")]),t._v(" user (if the album doesn't exists)")]),t._v(" "),s("li",[t._v("Upload the images contained in "),s("code",[t._v("./<path>/rodolfo/weapons")]),t._v(" to rodolfo's "),s("code",[t._v("weapons")]),t._v(" album")]),t._v(" "),s("li",[t._v("Upload "),s("code",[t._v("logo-alt.png")]),t._v(" to "),s("code",[t._v("rodolfo")]),t._v(" (no album)")])]),t._v(" "),s("h3",{attrs:{id:"top-level-folders-as-albums"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#top-level-folders-as-albums"}},[t._v("#")]),t._v(" Top-level folders as albums")]),t._v(" "),s("p",[t._v("Top-level folders within the importing path will be handled as "),s("code",[t._v("album_name")]),t._v(".")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("./"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("path"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n└── weapons "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("- album name\n    ├── machine-gun.jpg\n    ├── rocket-launcher.jpg\n    └── logo-alt.png\n")])])]),s("p",[t._v("For the tree above, the parser will:")]),t._v(" "),s("ul",[s("li",[t._v("Create album "),s("code",[t._v("weapons")]),t._v(" as guest user (if the album doesn't exists)")]),t._v(" "),s("li",[t._v("Upload the images contained in "),s("code",[t._v("./<path>/weapons")]),t._v(" to "),s("code",[t._v("weapons")]),t._v(" album")])]),t._v(" "),s("h3",{attrs:{id:"no-parse"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#no-parse"}},[t._v("#")]),t._v(" No parse")]),t._v(" "),s("p",[t._v("No folder is parsed, only images will be imported as guest.")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("./"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("path"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n├── machine-gun.jpg\n├── rocket-launcher.jpg\n└── logo-alt.png\n")])])]),s("p",[t._v("For the tree above, the parser will:")]),t._v(" "),s("ul",[s("li",[t._v("Upload the images contained in "),s("code",[t._v("./<path>")]),t._v(" to public, as guest user.")])]),t._v(" "),s("h2",{attrs:{id:"automatic-importing"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#automatic-importing"}},[t._v("#")]),t._v(" Automatic importing")]),t._v(" "),s("p",[t._v("Automatic importing works by continuously observe the "),s("code",[t._v("importing/")]),t._v(" path. In this path you will find folders that follow a given parsing format. Simply add contents to this folder following the convention.")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Path")]),t._v(" "),s("th",[t._v("Parsing")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("./importing/parse-users")])]),t._v(" "),s("td",[s("a",{attrs:{href:"#top-level-folder-as-username"}},[t._v("Top-level folder as username")])])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("./importing/parse-albums")])]),t._v(" "),s("td",[s("a",{attrs:{href:"#top-level-folders-as-albums"}},[t._v("Top-level folders as albums")])])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("./importing/no-parse")])]),t._v(" "),s("td",[s("a",{attrs:{href:"#no-parse"}},[t._v("No folder parsing")])])])])]),t._v(" "),s("h3",{attrs:{id:"cron-entry"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cron-entry"}},[t._v("#")]),t._v(" Cron entry")]),t._v(" "),s("p",[t._v("Automatic importing works with a scheduled command to continuously process the importing. At "),s("code",[t._v("dashboard/bulk")]),t._v(" you will see a "),s("a",{attrs:{href:"https://en.wikipedia.org/wiki/Cron",target:"_blank",rel:"noopener noreferrer"}},[t._v("cron"),s("OutboundLink")],1),t._v(" entry like this:")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[t._v("* * * * * "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("IS_CRON")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("THREAD_ID")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" /usr/bin/php /public_html/importing.php "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("/dev/null "),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("2")]),t._v(">")]),s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("&1")]),t._v("\n")])])]),s("p",[t._v("The cron entry above instruct to run the importer each minute, with "),s("code",[t._v("THREAD_ID=1")]),t._v(" flag.")]),t._v(" "),s("blockquote",[s("p",[t._v("Refer to your server administrator in how to add this entry to your server.")])]),t._v(" "),s("h3",{attrs:{id:"performance-tunning"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#performance-tunning"}},[t._v("#")]),t._v(" Performance tunning")]),t._v(" "),s("p",[t._v("You can speed up the process by running the importing in multiple threads. Simply add more cron entries:")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[t._v("* * * * * "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("IS_CRON")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("THREAD_ID")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" /usr/bin/php /public_html/importing.php "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("/dev/null "),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("2")]),t._v(">")]),s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("&1")]),t._v("\n* * * * * "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("IS_CRON")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("THREAD_ID")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" /usr/bin/php /public_html/importing.php "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("/dev/null "),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("2")]),t._v(">")]),s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("&1")]),t._v("\n")])])]),s("p",[t._v("You could add as many entries your hardware can tolerate.")]),t._v(" "),s("h3",{attrs:{id:"locking"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#locking"}},[t._v("#")]),t._v(" Locking")]),t._v(" "),s("p",[t._v("The automatic importing process can be locked by placing an empty lock file at "),s("code",[t._v("./importing/.lock")]),t._v(". The automatic importing process won't be carried until this file doesn't exists.")]),t._v(" "),s("h2",{attrs:{id:"manual-importing"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#manual-importing"}},[t._v("#")]),t._v(" Manual importing")]),t._v(" "),s("p",[t._v("Manual importing works by creating a one-time job that will be carried on a file system path and parsing method of your choice.")]),t._v(" "),s("div",{staticClass:"custom-block danger"},[s("p",{staticClass:"custom-block-title"},[t._v("Low-Performance")]),t._v(" "),s("p",[t._v("Manual importing is orchestrated with XHR, meaning that you must keep the web browser active to carry on the process. This could be too slow when importing a large collection.")])]),t._v(" "),s("h2",{attrs:{id:"statuses"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#statuses"}},[t._v("#")]),t._v(" Statuses")]),t._v(" "),s("p",[t._v("The importing jobs statuses get defined as follow:")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Status")]),t._v(" "),s("th",[t._v("Description")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("Queued")]),t._v(" "),s("td",[t._v("Job is in the processing queue (default status)")])]),t._v(" "),s("tr",[s("td",[t._v("Working")]),t._v(" "),s("td",[t._v("Job is being parsed")])]),t._v(" "),s("tr",[s("td",[t._v("Paused")]),t._v(" "),s("td",[t._v("Job is paused")])]),t._v(" "),s("tr",[s("td",[t._v("Canceled")]),t._v(" "),s("td",[t._v("Job aborted by the user")])]),t._v(" "),s("tr",[s("td",[t._v("Completed")]),t._v(" "),s("td",[t._v("Job completed (everything parsed)")])])])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v('Automatic importing may show "completed" when there\'s nothing else to parse, but internally it will get re-queued automatically.')])]),t._v(" "),s("h2",{attrs:{id:"metadata"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#metadata"}},[t._v("#")]),t._v(" Metadata")]),t._v(" "),s("p",[t._v("The bulk importer supports metadata (data that describes other data) using the JSON format, same as "),s("a",{attrs:{href:"#importing-from-google-photos"}},[t._v("Google Photos")]),t._v(".")]),t._v(" "),s("p",[t._v("Metadata must be provided per content basis, meaning that you must use one metadata file for each content.")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Content")]),t._v(" "),s("th",[t._v("Type")]),t._v(" "),s("th",[t._v("Metadata file")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("rodolfo/")])]),t._v(" "),s("td",[t._v("username")]),t._v(" "),s("td",[s("code",[t._v("rodolfo/metadata.json")])])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("rodolfo/weapons/")])]),t._v(" "),s("td",[t._v("album")]),t._v(" "),s("td",[s("code",[t._v("rodolfo/weapons/metadata.json")])])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("rodolfo/weapons/machine-gun.jpg")])]),t._v(" "),s("td",[t._v("image")]),t._v(" "),s("td",[s("code",[t._v("rodolfo/weapons/machine-gun.json")])])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("rodolfo/weapons/rocket-launcher.jpg")])]),t._v(" "),s("td",[t._v("image")]),t._v(" "),s("td",[s("code",[t._v("rodolfo/weapons/rocket-launcher.json")])])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("rodolfo/logo-alt.png")])]),t._v(" "),s("td",[t._v("image")]),t._v(" "),s("td",[s("code",[t._v("rodolfo/logo-alt.json")])])])])]),t._v(" "),s("p",[t._v("Tree below shows metadata for the table above.")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("./"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("path"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n└── rodolfo\n    ├── weapons\n    │   ├── machine-gun.jpg\n    │   ├── machine-gun.json\n    │   ├── rocket-launcher.jpg\n    │   ├── rocket-launcher.json\n    │   └── metadata.json\n    ├── logo-alt.png\n    ├── logo-alt.json\n    └── metadata.json\n")])])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("Note")]),t._v(" "),s("p",[t._v("Metadata properties merges the content being parsed, meaning that you don't need to explicitly indicate all properties, only what you need to describe.")])]),t._v(" "),s("h3",{attrs:{id:"image-metadata"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#image-metadata"}},[t._v("#")]),t._v(" Image metadata")]),t._v(" "),s("p",[t._v("JSON metadata file below provides a sample metadata for "),s("code",[t._v("machine-gun.jpg")]),t._v(".")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"imageData"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"title"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Machine gun"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"description"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Say hello to my little friend!"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"nsfw"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"category"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Guns"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"urlKey"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Guns"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"description"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Guns don\'t kill people, sugar does."')]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("Image categories")]),t._v(" "),s("p",[t._v("Image categories will be created if needed long as you provide both "),s("code",[t._v("name")]),t._v(" and "),s("code",[t._v("urlKey")]),t._v(".")])]),t._v(" "),s("h3",{attrs:{id:"album-metadata"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#album-metadata"}},[t._v("#")]),t._v(" Album metadata")]),t._v(" "),s("p",[t._v("JSON metadata file bellow provides a sample metadata for "),s("code",[t._v("guns/")]),t._v(" album.")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"albumData"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"title"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Guns"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"description"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Guns should be banned."')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"access"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"private"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"privacy"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"type"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"password"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"password"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"12345"')]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("For album privacy, you can pick from:")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Privacy type")]),t._v(" "),s("th",[t._v("Effect")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("public")])]),t._v(" "),s("td",[t._v("Public album (default)")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("private")])]),t._v(" "),s("td",[t._v("Private album for owner")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("private_but_link")])]),t._v(" "),s("td",[t._v("Same as "),s("code",[t._v("private")]),t._v(" + those with the album link")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("password")])]),t._v(" "),s("td",[t._v("Will set the password for accessing the album")])])])]),t._v(" "),s("p",[t._v("For example, if you need "),s("code",[t._v("private_but_link")]),t._v(" the metadata property should look like this:")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"privacy"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"type"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"private_but_link"')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"user-metadata"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#user-metadata"}},[t._v("#")]),t._v(" User metadata")]),t._v(" "),s("p",[t._v("JSON metadata file bellow provides a sample metadata for "),s("code",[t._v("rodolfo/")]),t._v(" user.")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"userData"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"role"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"user"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Rodolfo Berrios"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"username"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"rodolfo"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"email"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"rodolfo@chevereto.com"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"website"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://rodolfoberrios.com"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"bio"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"I\'m the Master of Puppets @chevereto, the alpha-omega. He/Him/They."')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"profileImages"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"avatar"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"rodo-avatar.jpg"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"background"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"rodo-bkg.jpg"')]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"networks"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"facebook"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"no!"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"twitter"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"godlike"')]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"timezone"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"America/Santiago"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"language"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"cl"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"private"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("Profile images have to be located in the "),s("code",[t._v(".assets/")]),t._v(" folder inside the user folder.")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("./"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("path"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n└── rodolfo\n    └── .assets\n        ├── rodo-avatar.jpg\n        └── rodo-bkg.jpg\n")])])]),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("User assets")]),t._v(" "),s("p",[t._v("The type of the image assets must be one of the file formats handled by your installation.")])]),t._v(" "),s("h2",{attrs:{id:"view-logs"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#view-logs"}},[t._v("#")]),t._v(" View logs")]),t._v(" "),s("p",[t._v("The whole importing process gets logged in texts files located at "),s("code",[t._v("/app/import/jobs/<id>/logs/")]),t._v(". You can tail "),s("code",[t._v("process.txt")]),t._v(" and "),s("code",[t._v("error.txt")]),t._v(' to get the live status of the importing process. You can also access these logs by clicking on the "Actions" menu.')]),t._v(" "),s("h2",{attrs:{id:"importing-from-google-photos"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#importing-from-google-photos"}},[t._v("#")]),t._v(" Importing from Google Photos")]),t._v(" "),s("p",[t._v("The metadata format used is exactly the same used by Google Photos, meaning that you can run away from that proprietary service and start owning your photos.")]),t._v(" "),s("ul",[s("li",[t._v("Go to "),s("a",{attrs:{href:"https://takeout.google.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Google Takeout"),s("OutboundLink")],1)]),t._v(" "),s("li",[t._v("Select "),s("strong",[t._v("Google Photos")]),t._v(" and follow the process")]),t._v(" "),s("li",[t._v("At Delivery method pick "),s("strong",[t._v("Send download link via email")])]),t._v(" "),s("li",[t._v("Once done, you will get a zipped file")]),t._v(" "),s("li",[t._v("Rename "),s("code",[t._v("Takeout/Google Photos")]),t._v(" folder to the target username, for example "),s("code",[t._v("Takeout/Rodolfo")])])]),t._v(" "),s("p",[t._v("From here you can take the folder for either "),s("a",{attrs:{href:"#automatic-importing"}},[t._v("automatic")]),t._v(" or "),s("a",{attrs:{href:"#manual-importing"}},[t._v("manual")]),t._v(" importing.")]),t._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("Metadata")]),t._v(" "),s("p",[t._v("All Google Photos metadata naming conventions are recognized from Chevereto V3.17")])])])}),[],!1,null,null,null);a.default=r.exports}}]);