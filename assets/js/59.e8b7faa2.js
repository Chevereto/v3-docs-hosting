(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{381:function(e,t,a){"use strict";a.r(t);var s=a(46),o=Object(s.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"update-guide"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#update-guide"}},[e._v("#")]),e._v(" Update Guide")]),e._v(" "),a("p",[e._v("This guide contains the steps to update Chevereto to its last version. Depending on which version you are currently running you should follow the adequate update procedure.")]),e._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[e._v("Check system requirements")]),e._v(" "),a("p",[e._v("Always check that you requirements won't conflict with the update. In doubt, you can always "),a("RouterLink",{attrs:{to:"/get-updates.html"}},[e._v("ask first")]),e._v(".")],1)]),e._v(" "),a("div",{staticClass:"custom-block danger"},[a("p",{staticClass:"custom-block-title"},[e._v("Backup your database")]),e._v(" "),a("p",[e._v("Make sure to always have a working backup of your database. It will be impossible to rollback without a database backup.")])]),e._v(" "),a("h2",{attrs:{id:"one-click-update"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#one-click-update"}},[e._v("#")]),e._v(" One-click update")]),e._v(" "),a("ul",[a("li",[e._v("Go to "),a("code",[e._v("/dashboard")]),e._v(' and click on "check for updates"')]),e._v(" "),a("li",[e._v("The system will carry the update")]),e._v(" "),a("li",[e._v("Restore or merge your file changes (only if needed)")])]),e._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),a("p",[e._v("If the process fails, try with the manual update procedure.")])]),e._v(" "),a("h2",{attrs:{id:"manual-update"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#manual-update"}},[e._v("#")]),e._v(" Manual update")]),e._v(" "),a("p",[e._v("This outlines the manual update procedure which may be required in certain circumstances:")]),e._v(" "),a("ul",[a("li",[e._v("Unable to reach "),a("code",[e._v("chevereto.com")]),e._v(" API server (required to download the software)")]),e._v(" "),a("li",[e._v("Missing permissions on the "),a("code",[e._v("php")]),e._v(" user over the software files")]),e._v(" "),a("li",[e._v("DB queries need to be manually executed (for system stability)")])]),e._v(" "),a("h3",{attrs:{id:"database"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#database"}},[e._v("#")]),e._v(" Database")]),e._v(" "),a("div",{staticClass:"custom-block danger"},[a("p",{staticClass:"custom-block-title"},[e._v("Dumped update query")]),e._v(" "),a("p",[e._v("If at "),a("code",[e._v("/install")]),e._v(" you see a plain text message starting with "),a("code",[e._v("#Dumped update query")]),e._v(" it means that you "),a("strong",[e._v("MUST")]),e._v(" manually run the printed queries in your MySQL console.")])]),e._v(" "),a("p",[e._v("If "),a("RouterLink",{attrs:{to:"/settings/system.html#dump-update-query"}},[e._v("dump update query")]),e._v(" setting is "),a("strong",[e._v("enabled")]),e._v(" or if the images table has "),a("strong",[e._v("more than 1,000,000")]),e._v(" records, Chevereto will dump the SQL statements required to carry the database update which must run directly in the SQL console.")],1),e._v(" "),a("p",[e._v("Chevereto has this functionality to minimize breaking your large database as the process could take several minutes to complete. When manually updating the database always keep the following considerations:")]),e._v(" "),a("ul",[a("li",[e._v("Disconnect all peers")]),e._v(" "),a("li",[e._v("Turn off the SQL server, work directly in its console (phpMyAdmin, Adminer, CLI)")]),e._v(" "),a("li",[e._v("Run the SQL statements one-by-one (a semi-colon "),a("code",[e._v(";")]),e._v(" denotes when a SQL statement ends)")]),e._v(" "),a("li",[e._v("If everything goes well, turn everything back online")])]),e._v(" "),a("h3",{attrs:{id:"system-files"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#system-files"}},[e._v("#")]),e._v(" System files")]),e._v(" "),a("ul",[a("li",[e._v("Download the "),a("a",{attrs:{href:"https://chevereto.com/panel/downloads",target:"_blank",rel:"noopener noreferrer"}},[e._v("latest release"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("Backup all your file changes (theme, routes, etc.)")]),e._v(" "),a("li",[e._v("Upload all the files and folders from the "),a("code",[e._v("chevereto")]),e._v(" folder")]),e._v(" "),a("li",[e._v("Login to your website (admin user) and then go to "),a("code",[e._v("/install")])]),e._v(" "),a("li",[e._v("Restore or merge your file changes (only if needed)")])]),e._v(" "),a("h2",{attrs:{id:"legacy-update"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#legacy-update"}},[e._v("#")]),e._v(" Legacy Update")]),e._v(" "),a("blockquote",[a("p",[e._v("üë¥üèæ These are steps needed when updating from very old releases (unsupported)")])]),e._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[e._v("Unsupported")]),e._v(" "),a("p",[e._v("These versions are really old, if you encounter any issue upgrading from these please report it.")])]),e._v(" "),a("h3",{attrs:{id:"update-from-v2-1-v2-6"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#update-from-v2-1-v2-6"}},[e._v("#")]),e._v(" Update from V2.1 - V2.6")]),e._v(" "),a("p",[e._v("When updating from these old versions try to always perform a database backup of your system.")]),e._v(" "),a("ul",[a("li",[e._v("Download the "),a("a",{attrs:{href:"https://chevereto.com/panel/downloads",target:"_blank",rel:"noopener noreferrer"}},[e._v("latest release"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("Save the DB connection info from includes/config.php")]),e._v(" "),a("li",[e._v("Save the "),a("code",[e._v("__CHV_CRYPT_SALT__")]),e._v(" that you have in "),a("code",[e._v("includes/definitions.php")])]),e._v(" "),a("li",[e._v("Upload all the files except for the images folder")]),e._v(" "),a("li",[e._v("Go to your website, the system will ask you for the DB connection info")]),e._v(" "),a("li",[e._v("Complete the process with the required information")]),e._v(" "),a("li",[e._v("The system MUST ask you for your "),a("code",[e._v("__CHV_CRYPT_SALT__")]),e._v(". If not, don't continue the process and ask for support")]),e._v(" "),a("li",[e._v("Remove the "),a("code",[e._v("/admin")]),e._v(" folder, you won't need it anymore. Since 3.0.0 the admin folder is "),a("code",[e._v("/dashboard")]),e._v(".")])]),e._v(" "),a("h3",{attrs:{id:"update-from-2-0-x-and-older"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#update-from-2-0-x-and-older"}},[e._v("#")]),e._v(" Update from 2.0.X and older")]),e._v(" "),a("ul",[a("li",[e._v("Update to 2.1 (or newer) following the instructions in the download package")]),e._v(" "),a("li",[e._v("Proceed with the "),a("a",{attrs:{href:"#update-from-21---26"}},[e._v("Update from 2.1 - 2.6")]),e._v(" instructions")])])])}),[],!1,null,null,null);t.default=o.exports}}]);